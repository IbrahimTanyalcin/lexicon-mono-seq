/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/lexicon-mono-seq@1.2.5/lexiconMonoSeq.v0.17.3.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.LexiconMonoSeq=e()}(this,function(){function t(t,i){return new e(t="string"==typeof t?document.querySelector(t):t.nodeType&&1===t.nodeType?t:document.body,i)}function e(t,e){if(!this.__defaultStyleApplied){e&&(this.textRendering=e.textRendering),e&&(this.fontKerning=e.fontKerning),e&&(this.webkitFontSmoothing=e.webkitFontSmoothing);var i=document.createElement("style");i.textContent=this.Style.string(this),i.setAttribute("data-name","LexiconMonoSeqStyle"),document.head.appendChild(i),this.constructor.prototype.__defaultStyleApplied=!0}this.container=t,this.toggleClass(t,"LexiconMonoSeqContainer",!0),this._state="IDLE",this._labels=!0;var n=this.painters=Array.apply(null,Array(e&&e.parallelRendering||1)).map(function(t,e){return new this.Paint(this)},this);return n._counter=0,n._length=n.length,this.wrapper=document.createElement("div"),this.wrapper.className="LexiconMonoSeq wrapper custom",this.div=this.wrapper.appendChild(document.createElement("div")),this.div.className="LexiconMonoSeq main custom",this.divStyle=this.div.style,this.hidden=this.wrapper.appendChild(document.createElement("div")),this.hidden.className="LexiconMonoSeq hidden",this.hidden.textContent="A",this.busy=this.wrapper.appendChild(document.createElement("div")),this.busy.className="LexiconMonoSeq busy custom",this.busyStyle=this.busy.style,this.busy.textContent="⏳",this.sequences=[],this.currentAnimationFrame=new this.AnimLedger(this),this.ColorShift=new this.ColorShift(this),this.ColorShiftRgba=new this.ColorShiftRgba(this),this.update=function(t,i){(e=i||e)&&void 0!==e.labels&&(this._labels=!!e.labels,1)&&this.toggleClass(this.wrapper,"labelsOff",!e.labels),this.scrollLeftOffset=this.fontWidth*this.maxAllowedLabelLength,this.divStyle.transform="translate("+this.scrollLeftOffset+"px,0px)",this.source=t,this.getMaxSeqLength(t).currentAnimationFrame.cancelFrames().prepareForUpdate();var r=t.length,s=e&&e.ease?new this.Ease(e.ease[0],e.ease[1],{resolution:e.easeResolution,precision:e.easePrecision}):this.ease,o=this.sequences.filter(function(t,e){return!t.rm}).filter(function(t,e){return e>r-1&&(t.rm=!0)}),a=this.sequences.filter(function(e,i){return!e.rm&&(e.source=t[i])}),h=Array.apply(null,Array(t.length-a.length)).map(function(e,i){return(e=new this.Sequence(t[a.length+i],this)).painter=n[(++n._counter,n._counter%=n._length)],this.sequences.push(e),e},this);return o.length&&this.removeSequences(o,{ease:s,startTime:void 0,options:e}),a.length&&this.updateSequences(a,{ease:s,startTime:void 0,options:e}),h.length&&this.updateSequences(h,{ease:s,startTime:void 0,options:e}),e&&e.easePaint&&this.painters.forEach(function(t,i){t.ease=new this.Ease(e.easePaint[0],e.easePaint[1],{resolution:e.easePaintResolution,precision:e.easePaintPrecision})},this),e&&void 0!==e.durationPaint&&this.painters.forEach(function(t,i){t.duration=e.durationPaint},this),this},this.wrapper.addEventListener("scroll",this.repaintOnScroll(),!1),t.appendChild(this.wrapper),this}var i,n;return e.prototype.version="0.17.3",e.prototype._scrollLeftOffset=0,e.prototype._50spaces="                                                  ",e.prototype.set=function(t,e){return this[t]=e,this},e.prototype.maxAllowedLabelLength=20,e.prototype.displayPadding=.2,e.prototype.generateRandomString=function(){return(1e9*Math.random()|0).toString(16)},e.prototype.colors={aa:{A:"#ffffc9",C:"#e3f9ad",E:"#f93333",D:"#fb7979",G:"#c0c0c0",F:"#c7c88a",I:"#ffff4f",H:"#d5f6fb",K:"#baaafc",M:"#c3ed27",L:"#ffff79",N:"#ee72a7",Q:"#f9c3e3",P:"#f1f2f3",S:"#ca9ec8",R:"#8694fa",T:"#f0e4ef",W:"#85b0cd",V:"#ffffab",Y:"#7dafb9","-":"#778899",":":"#778899","*":"#778899",".":"#778899","·":"#778899"," ":"#778899"},dna:{A:"#3f5fef",T:"#ee2f2f",G:"#2f2f2f",C:"#0f7f7f","-":"#778899",":":"#778899","*":"#778899",".":"#778899","·":"#778899"," ":"#778899"},ruler:{0:"#de9d00",1:"#de9d00",2:"#de9d00",3:"#de9d00",4:"#de9d00",5:"#de9d00",6:"#de9d00",7:"#de9d00",8:"#de9d00",9:"#de9d00","·":"#6f4f0f"," ":"#778899"},alphabet:{K:"#ffff96",M:"#cd9135",L:"#ca3e5e",W:"#ff98d5",T:"#538cd0",V:"#b2dccd",C:"#92f846",Y:"#afc84a",F:"#b9b9b9",G:"#ebebde",I:"#ffff00",D:"#ffc82f",E:"#ff7600",O:"#ff0000",B:"#af0d66",S:"#792187",A:"#0000b4",N:"#0c4b64",U:"#009a25",H:"#646464",P:"#af9b32",Z:"#3f190c",J:"#371370",X:"#00004a",R:"#254619",Q:"#000000","-":"#778899",":":"#778899","*":"#778899",".":"#778899","·":"#778899"," ":"#778899"},number:{0:"#8dd3c7",1:"#ffffb3",2:"#bebada",3:"#fb8072",4:"#80b1d3",5:"#fdb462",6:"#b3de69",7:"#fccde5",8:"#d9d9d9",9:"#bc80bd","-":"#778899",":":"#778899","*":"#778899",".":"#778899","·":"#778899"," ":"#778899"}},e.prototype.opacities={aa:{A:.95,C:.95,E:.95,D:.95,G:.95,F:.95,I:.95,H:.95,K:.95,M:.95,L:.95,N:.95,Q:.95,P:.95,S:.95,R:.95,T:.95,W:.95,V:.95,Y:.95,"-":.8,":":.4,"*":.2,".":.1,"·":.05," ":0},dna:{"-":.8,":":.4,"*":.2,".":.1,"·":.05," ":0},alphabet:{"-":.8,":":.4,"*":.2,".":.1,"·":.05," ":0},number:{"-":.8,":":.4,"*":.2,".":.1,"·":.05," ":0},ruler:{"·":.05}},e.prototype.textColors={aa:"rgba(0,0,0,0.9)",dna:"rgba(255,255,255,0.8)",alphabet:"rgba(0,0,0,0.9)",number:"rgba(255,255,255,0.8)",ruler:"rgba(0,0,0,0.9)"},e.prototype.caveManCopy=function(t){return JSON.parse(JSON.stringify(t))},e.prototype.registerType=function(t,i,n,r){var s=e.prototype;return t&&i&&(s.colors[t]=s.caveManCopy(i))&&n&&(s.textColors[t]=n)&&(r&&(s.opacities[t]=s.caveManCopy(r))||(s.opacities[t]={})),this},e.prototype.reDraw=function(){try{if(!this.source)throw new ReferenceError("No source is available, the source has been detached.");this.update(this.source)}catch(t){console.log(t.message)}finally{return this}},e.prototype.detach=function(){return delete this.source,this},e.prototype.ColorShift=function(t){this.colors=Object();var e=this,i=function(t,i){var n,r=""+t+i;return(n=e.colors[r])?n.f:((n=e.colors[r]=Object()).t=Object(),n.f=e.shift(t,i,n.t))};return i.clear=function(){return e.colors=Object(),t},i},e.prototype.ColorShift.prototype.shift=function(t,e,i){var n=Math.max,r=Math.min,s=+("0x"+t.slice(1,3)),o=+("0x"+t.slice(3,5)),a=+("0x"+t.slice(5)),h=+("0x"+e.slice(1,3)),c=+("0x"+e.slice(3,5)),p=+("0x"+e.slice(5));return function(t){var e,l=""+(t=(1e3*t|0)/1e3);return void 0!==(e=i[l])?e:i[l]="#"+("00"+(0|n(0,r(255,s+t*(h-s)))).toString(16)).slice(-2)+("00"+(0|n(0,r(255,o+t*(c-o)))).toString(16)).slice(-2)+("00"+(0|n(0,r(255,a+t*(p-a)))).toString(16)).slice(-2)}},e.prototype.ColorShiftRgba=function(t){this.colors=Object();var e=this,i=function(t,i){var n,r=""+t+i;return(n=e.colors[r])?n.f:((n=e.colors[r]=Object()).t=Object(),n.f=e.shift(t,i,n.t))};return i.clear=function(){return e.colors=Object(),t},i},e.prototype.ColorShiftRgba.prototype.rgx=/([0-9.]+)/gi,e.prototype.ColorShiftRgba.prototype.shift=function(t,e,i){var n=Math.max,r=Math.min,s=this.rgx,o=(t+e).match(s),a=+o[0],h=+o[1],c=+o[2],p=+o[3],l=+o[4],u=+o[5],f=+o[6],d=+o[7];return function(t){var e,s=""+(t=(1e3*t|0)/1e3);return void 0!==(e=i[s])?e:i[s]="rgba("+(0|n(0,r(255,a+t*(l-a))))+","+(0|n(0,r(255,h+t*(u-h))))+","+(0|n(0,r(255,c+t*(f-c))))+","+n(0,r(1,p+t*(d-p)))+")"}},e.prototype.interpolateAndStoreAtEnd=function(t,e,i,n,r){var s=t[e];return n<1?s+(i-s)*r:t[e]=i},e.prototype.interpolateAndStore=function(t,e,i,n){var r,s=t["_t"+e];return n>=1?(delete t["_t"+e],delete t["_"+e],t[e]=i):(n<s&&delete t["_"+e],r=t["_"+e]||(t["_"+e]=t[e]),t["_t"+e]=n,t[e]=r+(i-r)*n)},e.prototype.interpolateAndStoreArr=function(t,e,i){var n,r,s=t.length,o=t._t;if(i>=1){for(delete t._t,r=0;r<s;++r)delete t["_"+r],t[r]=e[r];return t}if(i<o)for(r=0;r<s;++r)delete t["_"+r];for(;~--s;)n=t["_"+s]||(t["_"+s]=t[s]),t[s]=n+(e[s]-n)*i;return t._t=i,t},e.prototype.interpolateAndStoreArrInt=function(t,e,i){var n,r,s=t.length,o=t._t;if(i>=1){for(delete t._t,r=0;r<s;++r)delete t["_"+r],t[r]=e[r];return t}if(i<o)for(r=0;r<s;++r)delete t["_"+r];for(;~--s;)n=t["_"+s]||(t["_"+s]=t[s]),t[s]=n+(e[s]-n)*i|0;return t._t=i,t},e.prototype.SVG=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox","0 0 1 1"),e.setAttribute("preserveAspectRatio","none"),t&&t.appendChild(e),e},e.prototype.toggleClass=function(t,i,n,r){var s=t.className.split(" ").filter(function(t,e){return t}),o=s.indexOf(i),a=!~o;return n||void 0===n&&a?a&&(t.className=s.concat(i).join(" ")):!a&&(t.className=s.reduce(function(t,e,i,n){return i!==o&&(t+=e+" "),t},"")),r||(r={toggleClass:function(i,n){return e.prototype.toggleClass(t,i,n,r)}})},e.prototype._states=["state","DOMState"],Object.defineProperties(e.prototype,{state:{configurable:!1,get:function(){return this._state},set:function(t){"ANIM"===t?(this._state=t,this.busyStyle.visibility="visible"):"IDLE"===t&&(this._state=t,this.busyStyle.visibility="hidden")}},scrollLeftOffset:{configurable:!1,get:function(){return this._labels?this._scrollLeftOffset:0},set:function(t){this._labels&&(this._scrollLeftOffset=t)}},scrollLeft:{configurable:!1,get:function(){return this.wrapper.scrollLeft-this.scrollLeftOffset},set:function(t){this.wrapper.scrollLeft=t+this.scrollLeftOffset}},DOMState:{configurable:!1,get:function(){return this.painters.some(function(t,e){return t.active||0!==Object.keys(t.frames).length})?"ANIM":"IDLE"}},oState:{configurable:!1,get:function(){return this._states.every(function(t,e){return"IDLE"===this[t]},this)?"IDLE":"ANIM"}},fontRect:{configurable:!1,get:function(){if(this._fontRect)return this._fontRect;var t=this,e=document.createRange(),i=this.hidden.firstChild,n=i.length;return e.setStart(i,0),e.setEnd(i,n),window.requestAnimationFrame(function(){delete t._fontRect,e.detach&&e.detach()}),this._fontRect=e.getBoundingClientRect()}},fontWidth:{configurable:!1,get:function(){var t=this.hidden.firstChild.length;return this.fontRect.width/t}},fontHeight:{configurable:!1,get:function(){return this.fontRect.height}},fontRatio:{configurable:!1,get:function(){if(this._fontRatio)return this._fontRatio;var t=this;return window.requestAnimationFrame(function(){delete t._fontRatio}),this._fontRatio=this.fontWidth/this.fontHeight}},containerRect:{configurable:!1,get:function(){if(this._containerRect)return this._containerRect;var t=this;return window.requestAnimationFrame(function(){delete t._containerRect}),this._containerRect=this.container.getBoundingClientRect()}},containerHeight:{configurable:!1,get:function(){return this.containerRect.height}},mainRect:{configurable:!1,get:function(){if(this._mainRect)return this._mainRect;var t=this;return window.requestAnimationFrame(function(){delete t._mainRect}),this._mainRect=this.div.getBoundingClientRect()}},mainWidth:{configurable:!1,get:function(){return this.mainRect.width}},viewportRect:{configurable:!1,get:function(){if(this._viewportRect)return this._viewportRect;var t=this;return window.requestAnimationFrame(function(){delete t._viewportRect}),this._viewportRect=this.wrapper.getBoundingClientRect()}},viewportWidth:{configurable:!1,get:function(){return this.viewportRect.width}},viewportHeight:{configurable:!1,get:function(){return this.viewportRect.height}},viewportWidthInChar:{configurable:!1,get:function(){return this.viewportWidth/this.fontWidth}},isInViewport:{configurable:!1,value:function(t){var e=this.viewportRect;return t.x-e.left>0&&t.x-e.left<e.width&&t.y-e.top>0&&t.y-e.top<e.height}},innerWidth:{configurable:!1,get:function(){if(this._innerWidth)return this._innerWidth;var t=this;return window.requestAnimationFrame(function(){delete t._innerWidth}),this._innerWidth=Math.max(document.documentElement.clientWidth,window.innerWidth)}},getScreenWidth:{configurable:!1,get:function(){return this.innerWidth}},innerHeight:{configurable:!1,get:function(){if(this._innerHeight)return this._innerHeight;var t=this;return window.requestAnimationFrame(function(){delete t._innerHeight}),this._innerHeight=Math.max(document.documentElement.clientHeight,window.innerHeight)}},getScreenHeight:{configurable:!1,get:function(){return this.innerHeight}},getScreenWidthInChars:{configurable:!1,get:function(){return this.innerWidth/this.fontWidth}},getMaxDisplayableChars:{configurable:!1,get:function(){return this._getMaxDisplayableChars?this._getMaxDisplayableChars:this._getMaxDisplayableChars=Math.min(this.getScreenWidth,this.viewportWidth)/this.fontWidth}},getMaxDisplayableSequences:{configurable:!1,get:function(){return this._getMaxDisplayableSequences?this._getMaxDisplayableSequences:this._getMaxDisplayableSequences=Math.min(this.getScreenHeight,this.viewportHeight,this.containerHeight)/this.sequences[0].trackHeight}},getCurrentPosLeft:{configurable:!1,get:function(){if(this._getCurrentPosLeft)return this._getCurrentPosLeft;var t=this,e=this.getMaxTrackLength;return window.requestAnimationFrame(function(){delete t._getCurrentPosLeft}),this._getCurrentPosLeft={posLeft:(this.scrollLeft-e.posOffsetTransform)/e.width*e.sequenceLength*e.charWidth,posOffset:e.posOffset}}},getVisibleRangeVertical:{configurable:!1,get:function(){if(this._getVisibleRangeVertical)return this._getVisibleRangeVertical;var t=this,e=this.mainRect,i=this.containerRect,n=Math.max(e.top,i.top),r=Math.min(e.bottom,i.bottom),s={start:0,end:0},o=this.sequences.length,a=this.getMaxDisplayableSequences;return window.requestAnimationFrame(function(){delete t._getVisibleRangeVertical}),r<=n?(s.start=-1,s.end=-1,this._getVisibleRangeVertical=s):(s.start=(n-e.top)/e.height*o,s.offset=-s.start%1,s.start=0|Math.max(0,s.start-a*this.displayPadding),s.end=Math.ceil(Math.min(o,(r-e.top)/e.height*o+a*this.displayPadding)),this._getVisibleRangeVertical=s)}},getMaxTrackLength:{configurable:!1,get:function(){if(this._getMaxTrackLength)return this._getMaxTrackLength;for(var t,e=this.sequences,i=e.length-1,n=e[i];~--i;)e[i].options.svgWidthInPx>n.options.svgWidthInPx&&(n=e[i]);return t=n.options.svgWidthInPx,this.div.style.width=t+"px",this._getMaxTrackLength={posOffset:n.posOffset,posOffsetTransform:n.options.posOffsetTransform,width:t,charWidth:n.charWidth,sequenceLength:n.seq.length}}}}),e.prototype.strConcat=function(t){for(var e=String.fromCharCode,i=0,n=t.length-1,r=e(t[i]);i<n;++i)r+=e(t[i+1]);return r},e.prototype.getMaxSeqLength=function(t){return this.maxSeqLength=Math.max.apply(null,t.map(function(t,e){return t.seq.length})),this},e.prototype.getInfoFromEvent=function(t){var e;if(!this.isInViewport(e={x:void 0!==t.clientX?t.clientX:t.changedTouches[0].clientX,y:void 0!==t.clientY?t.clientY:t.changedTouches[0].clientY}))return{detail:"MISS"};var i=(e.y-this.mainRect.top)/this.mainRect.height*this.sequences.length|0,n=this.sequences[i],r=n&&n.slabRect,s=n&&n.textSlab,o=s&&s._seqArr;if(!o)return{detail:"MISS",state:this.oState,trackNumber:i,target:n};var a=n.rects.paintedRange,h=n.options,c=(e.x-r.left+h.transformXOffset-h.posOffsetTransform)/r.width*o.length,p=0|c,l=p+a.start;return void 0===o[p]?{detail:"MISS",state:this.oState,trackNumber:i,target:n}:{detail:"HIT",state:this.oState,trackNumber:i,target:n,pos:l,rPos:p,letter:String.fromCharCode(o[p]),offset:c-p}},e.prototype.garbage=function(){return this.detach(),this.wrapper.parentNode.removeChild(this.wrapper),this},e.prototype.getInfoFromRect=function(t){var e,i,n,r,s,o,a,h,c,p,l;if(!this.isInViewport({x:t.left,y:t.top}))return[];for(e=this.viewportRect,i=this._trackHeight,(t=this.caveManCopy(t)).width=Math.min(t.width,e.width-t.left+e.left),t.height=Math.min(t.height,e.height-t.top+e.top),a=t.width/this.fontWidth,r=[],n=0;"HIT"===(h=this.getInfoFromEvent({clientX:t.left,clientY:t.top+n})).detail&&(s=(o=h.target).textSlab._seqArr,c=h.rPos,p=Math.min(s.length,Math.ceil(c+a/o.charWidth+h.offset)),h.end=h.pos+p,h.captured=s.slice(c,p).map(function(t){return String.fromCharCode(t)})),l&&l===h.trackNumber||r.push(h),n!==t.height;n+=i,n=Math.min(n,t.height))l=h.trackNumber;return r},e.prototype.enableDrag=function(t){if(this._dragEnabled)return this;var e=this.wrapper,i=this.startDrag(t);return this._dragEnabled=!0,e.addEventListener("mousedown",i,!1),e.addEventListener("touchstart",i,!!this.quirks.passiveSupported&&{capture:!1,passive:!1}),this.toggleClass(e,"drag",!0),this},e.prototype.disableDrag=function(){if(!this._dragEnabled)return this;var t=this.wrapper;return delete this._dragEnabled,delete t._dragging,t.removeEventListener("mousedown",t._startDrag,!1),t.removeEventListener("touchstart",t._startDrag,!!this.quirks.passiveSupported&&{capture:!1,passive:!1}),delete t._startDrag,this.toggleClass(t,"drag",!1),this},e.prototype.startDrag=function(t){var e=this,i=this.container,n=this.wrapper,r=!1;return n._startDrag=function(s){r||(r=!0,window.requestAnimationFrame(function(){r=!1}),n._dragging||(s.preventDefault(),n._dragging=!0,e.Drag(e,i,n,t,s)))}},e.prototype.Drag=function(t,e,i,n,r){var s=void 0!==r.clientX?r.clientX:r.changedTouches[0].clientX,o=void 0!==r.clientY?r.clientY:r.changedTouches[0].clientY,a=t.scrollLeft,h=i.scrollTop,c=Object(),p=t.drag.bind(c,t,e,i,s,o,a,h,n),l=function(e){this.removeEventListener("resize",l,!1),this.removeEventListener("mouseup",l,!1),this.removeEventListener("touchend",l,!1),this.removeEventListener("touchmove",p,!!t.quirks.passiveSupported&&{capture:!1,passive:!1}),this.removeEventListener("mousemove",p,!1),t.quirks.enableScroll(),i._dragging=!1,n&&n.end&&n.end.call(t,e,n)};t.quirks.disableScroll(),window.addEventListener("resize",l,!1),window.addEventListener("mouseup",l,!1),window.addEventListener("touchend",l,!1),"touchstart"===r.type?(r.preventDefault(),window.addEventListener("touchmove",p,!!t.quirks.passiveSupported&&{capture:!1,passive:!1})):window.addEventListener("mousemove",p,!1)},e.prototype.drag=function(t,e,i,n,r,s,o,a,h){if(h.preventDefault(),!this.busy){this.dragStarted||(this.dragStarted=!0,a&&a.start&&a.start.call(t,h,a));var c=void 0!==h.clientX?h.clientX:h.changedTouches[0].clientX,p=void 0!==h.clientY?h.clientY:h.changedTouches[0].clientY,l=this;this.busy=!0,window.requestAnimationFrame(function(){l.busy=!1}),t.scrollLeft=s-(c-n),i.scrollTop=o-(p-r),a&&a.drag&&a.drag.call(t,h,a)}},e.prototype.skipFrames=function(t){var e=this;return{then:function(i){return e.watchman(e,function(t){return!--t.counter},function(){i.call(e)},{counter:t}),e.skipFrames(1+t)},skipFrames:function(i){return e.skipFrames(t+i)}}},e.prototype.quirks={busy:!1,parent:e.prototype,passiveSupported:!1,scrollDisabled:!1,disableScroll:function(){this.scrollDisabled||(this.parent.toggleClass(document.body,"lock-scroll",!0),document.body.addEventListener("touchmove",this.disableScrollFunction,!!this.passiveSupported&&{capture:!1,passive:!1}),this.scrollDisabled=!0)},enableScroll:function(){this.scrollDisabled&&(this.parent.toggleClass(document.body,"lock-scroll",!1),document.body.removeEventListener("touchmove",this.disableScrollFunction,!!this.passiveSupported&&{capture:!1,passive:!1}),this.scrollDisabled=!1)}},i=e.prototype.quirks,n=Object.defineProperty({},"passive",{get:function(){i.passiveSupported=!0}}),window.addEventListener("lexiconMonoSeqPassiveTest",null,n),i.disableScrollFunction=function(t){i.busy||(window.requestAnimationFrame(function(){i.busy=!1}),i.busy=!0,t.cancelable&&t.preventDefault())},t.createRuler=function(t,e,i){for(var n="",r=Math.max.apply(null,t.map(function(t,e){return t.seq.length*(t.charWidth||1)+(t.posOffset||0)})),s=1,o=20,a=0;~--r;)a?(a--,o++):((o%=20)?n+="·":(a=(""+s).length-1,n+=s,s+=20),o++);return e?(i?t.push({name:"ruler",seq:n,type:"ruler"}):t.unshift({name:"ruler",seq:n,type:"ruler"}),t):n},t.readClustal=function(t,e){var i=t.split("\n").slice(1).join("\n").match(/([A-Z_\-0-9]+)\s+([A-Z\-]+)(?:\s+[0-9]+)?/gi).reduce(function(t,e,i,n){var r=e.split(/\s+/),s=r[0],o=r[1];return t[s]?t[s]+=o:t[s]=o,t},{});return Object.keys(i).map(function(t,n){return{name:t,seq:i[t],charWidth:e&&e.charWidth||1,type:e&&e.type||"aa"}})},e.prototype.AnimLedger=function(t){Object.defineProperties(this,{a:this.returnDescriptor("a",t),u:this.returnDescriptor("u",t),r:this.returnDescriptor("r",t),s:this.returnDescriptor("s",t),sMan:this.returnDescriptor("sMan",t),l:this.returnDescriptor("l",t)}),this.instance=t},e.prototype.AnimLedger.prototype.nonCancelableFrames=["_r","_l"],e.prototype.AnimLedger.prototype.returnDescriptor=function(t,e){var i=Object();return i.configurable=!1,i.get=function(){return this["_"+t]},i.set=function(i){this["_"+t]=i,void 0===i&&this.getKeys().every(function(t,e){return void 0===this[t]},this)&&(e.state="IDLE")},i},e.prototype.AnimLedger.prototype.getKeys=function(){return Object.keys(this).filter(function(t,e){return"_"===t.slice(0,1)})},e.prototype.AnimLedger.prototype.getCancelable=function(){return this.getKeys().filter(function(t,e){return!~this.nonCancelableFrames.indexOf(t)},this)},e.prototype.AnimLedger.prototype.cancelFrames=function(){return this.getCancelable().forEach(function(t,e){window.cancelAnimationFrame(this[t]),this[t.slice(1)]=void 0},this),this},e.prototype.AnimLedger.prototype.prepareForUpdate=function(t){return this.instance.state="ANIM",this.instance.sequences.forEach(function(t,e){delete t.source}),this._a=void 0,this.instance.set("_trackHeight",void 0).set("_getMaxTrackLength",void 0).set("_getMaxDisplayableChars",void 0).set("_getMaxDisplayableSequences",void 0),this},e.prototype.Sequence=function(t,e){var i=document.createElement("div"),n=this.svg=e.SVG(i),r=i.appendChild(document.createElement("div")),s=i.appendChild(document.createElement("div"));this.set("rm",!1).set("_rm",!1).set("div",i).set("style",i.style).set("svg",n).set("styleSVG",n.style).set("textDiv",r).set("styleTextDiv",r.style).set("textSlab",s).set("styleTextSlab",s.style).set("parent",e).set("seq",t.seq).set("type",t.type).set("charWidth",t.charWidth||1).set("name",t.name).set("posOffset",t.posOffset||0).set("isVisible",!0),this.style.transform="translate("+-1*e.viewportWidth+"px,0px)",this.style.opacity=0,i.className="LexiconMonoSeq sequence custom",n.setAttribute("class","LexiconMonoSeq custom"),r.className="LexiconMonoSeq textDiv custom",s.className="LexiconMonoSeq textSlab custom",s._transformX=0,s._textColor="rgba(0,0,0,0)",e.div.appendChild(i),new e.Rect(this),t=void 0},Object.defineProperties(e.prototype.Sequence.prototype,{trackRect:{configurable:!1,get:function(){if(this._trackRect)return this._trackRect;var t=this;return window.requestAnimationFrame(function(){delete t._trackRect}),this._trackRect=this.svg.getBoundingClientRect()}},slabRect:{configurable:!1,get:function(){if(this._slabRect)return this._slabRect;var t=this;return window.requestAnimationFrame(function(){delete t._slabRect}),this._slabRect=this.textSlab.getBoundingClientRect()}},trackHeight:{configurable:!1,get:function(){var t=this.parent._trackHeight;return t||(this.parent._trackHeight=this.trackRect.height)}},unitLength:{configurable:!1,get:function(){return this.seq.length*this.charWidth}},isInTrack:{configurable:!1,writable:!1,value:function(t){var e=this.trackRect;return t.x-e.left>0&&t.x-e.left<e.width}},visibleRange:{configurable:!1,get:function(){var t=this.parent.getCurrentPosLeft,e=t.posLeft-(this.posOffset-t.posOffset),i=this.charWidth,n=this.unitLength,r=-e/i%1,s=this.parent.getMaxDisplayableChars/i,o=e/i;return e>=n?-1:{start:o,end:o+s,offset:r}}},adjustRange:{configurable:!1,writable:!1,value:function(t){var e=this.charWidth,i=this.parent.getMaxDisplayableChars/e,n=this.parent.displayPadding*i;return{start:Math.max(0,t.start-n|0),end:Math.min(this.seq.length,Math.max(0,Math.ceil(t.end+n))),offset:t.offset}}},rangeWithinRange:{configurable:!1,writable:!1,value:function(t,e){return t.start-e.start>=0&&t.end-e.end<=0}},rangeEqual:{configurable:!1,writable:!1,value:function(t,e){return t.start===e.start&&t.end===e.end}},withinVerticalRange:{configurable:!1,get:function(){var t=this.parent.sequences.indexOf(this),e=this.parent.getVisibleRangeVertical;return~t&&!this.rm&&t>=e.start&&t<e.end}},toggleVisibility:{configurable:!1,writable:!1,value:function(t){return(t=!!t)!==this.isVisible&&(this.isVisible=t,this.style.visibility=t?"visible":"hidden"),this}},update:{configurable:!1,writable:!1,value:function(t,e,i){var n=this.parent,r=n.sequences.indexOf(this),s=this.textSlab;if(!e.target)return this._rm||(n.toggleClass(this.div,"rm",!0),n.sequences.splice(r,1),this._rm=!0),this.style.transform="translate("+e.viewportWidth*t+"px,0px)",this.style.opacity=1-t,void(t>=1&&this.div.parentNode&&n.div.removeChild(this.div));if(!e.firstCall){var o=" <"+(r+1)+". ",a=o.length+" /> ".length,h=n.maxAllowedLabelLength-a,c=o+(this.name.length>h?this.name.slice(0,h-3)+"...":(this.name+n._50spaces).slice(0,h))+" /> ";c.length!==n.maxAllowedLabelLength&&(n.scrollLeftOffset=n.fontWidth*c.length,n.divStyle.transform="translate("+n.scrollLeftOffset+"px,0px)"),this.textDiv.textContent=c,s._textColorInterpolator=n.ColorShiftRgba(s._textColor,n.textColors[this.type]||"rgba(0,0,0,0.9)"),e.firstCall=!0}this.styleTextSlab.color=i<1?s._textColorInterpolator(t):s._textColor=s._textColorInterpolator(t)}},set:{configurable:!1,writable:!1,value:function(t,e){return this[t]=e,this}}}),e.prototype.Rect=function(t){SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE;var e=t.parent;t.rects=this,this.id=e.generateRandomString(),this.parent=t,this.svg=t.svg,this.cNodes=this.svg.childNodes,this.stopWidths=[],this.stopOffsets=[],this.stopColors=[],this.stopOpacities=[],this.paintedRange={start:-1,end:-1},this.fragment=document.createDocumentFragment(),this.depot=new this.Depot(this)},e.prototype.Rect.prototype.getVal=function(t,e){return t[e].baseVal.value},e.prototype.Rect.prototype.setAttr=function(t,e,i){return this.chain(t).setAttr(e,i)},e.prototype.Rect.prototype.setVal=function(t,e,i){return this.chain(t).setVal(e,i)},e.prototype.Rect.prototype.chain=function(t){return t._chain||(t._chain=new this.Chain(t))},e.prototype.Rect.prototype.Chain=function(t){this.n=t},e.prototype.Rect.prototype.Chain.prototype.u=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,e.prototype.Rect.prototype.Chain.prototype.setAttr=function(t,e){return this.n.setAttribute(t,e),this},e.prototype.Rect.prototype.Chain.prototype.setVal=function(t,e){return this.n[t].baseVal.newValueSpecifiedUnits(this.u,e),this},e.prototype.Rect.prototype.rect=function(){return this.setAttr(document.createElementNS("http://www.w3.org/2000/svg","rect"),"fill","#ffffff").setAttr("fill-opacity",0).setVal("width",1).setVal("height",1).setVal("x",0).n}.call(e.prototype.Rect.prototype),e.prototype.Rect.prototype.setViewBox=function(t,e){var i=t.viewBox.baseVal;for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return t},e.prototype.Rect.prototype.update=function(t){var e=this.parent.parent,i=this.parent,n=this.depot;if(!i.rm)if(i.withinVerticalRange){var r=i.options,s=i.visibleRange;if(t||!i.rangeWithinRange(s,this.paintedRange)||!i.isVisible){var o=i.adjustRange(s),a=o.end-o.start;if(a){n.claim(a);for(var h=[],c=this.cNodes.length,p=0;p<c;++p)h.push(this.cNodes[p]);n.borrow(h,a);var l,u,f,d,g,m,v,y=i.seq,b=i.type,w=r.uC;for(d=r.stopOffsets=[],l=0,u=o.start;l<a;++l)d.push((u+l)*w);for(d=r.stopOpacities=[],l=0,g=e.opacities[b];l<a;++l)f=+g[y[u+l]],d.push(f==f?f:.8);for(d=r.stopColors=[],l=0,f=(g=this.stopColors).length,m=e.colors[b];l<f;++l)d.push(e.ColorShift(g[l],m[y[u+l]]));if(r.rects=this,r.aR=o,p=h.length,this.paintedRange.end-o.end>=a)for(v=(o.start+a+1)*w;~--p;)this.stopOffsets[p]=v;else if(o.start-this.paintedRange.start>=a)for(v=(o.start-a)*w;~--p;)this.stopOffsets[p]=v;else if(i.rangeEqual(this.paintedRange,o))for(v=(o.start+o.end)/2*w;~--p;)this.stopOffsets[p]=v;(v=v/r.svgWidthInUnits*r.svgWidthInPx)&&(i.textSlab._transformX=v),this.paintedRange=o,i.painter.schedulePaint(h,r)}}}else n.claim()},e.prototype.Rect.prototype.Depot=function(t){this.isEmpty=!0,this.parent=t,this.rect=t.rect,this.svg=t.svg,this.cNodes=t.cNodes,this.mockSVG=t.parent.parent.SVG(),this.mockSVG.style.display="none",this.fragment=t.fragment,this.stopColors=t.stopColors,this.stopOffsets=t.stopOffsets,this.stopOpacities=t.stopOpacities,this.stopWidths=t.stopWidths},e.prototype.Rect.prototype.Depot.prototype.nodes=[],e.prototype.Rect.prototype.Depot.prototype.claim=function(t){if(t)for(;this.cNodes.length>t;)this.nodes.push(this.svg.removeChild(this.svg.lastChild)),this.stopOffsets.pop(),this.stopColors.pop(),this.stopOpacities.pop(),this.stopWidths.pop();else for(;this.svg.hasChildNodes();)this.nodes.push(this.svg.removeChild(this.svg.lastChild)),this.stopOffsets.pop(),this.stopColors.pop(),this.stopOpacities.pop(),this.stopWidths.pop();return this},e.prototype.Rect.prototype.Depot.prototype.borrow=function(t,e){for(var i;t.length<e;)i=this.nodes.pop()||this.rect.cloneNode(!1),t.push(this.fragment.appendChild(i)),this.stopOffsets.push(0),this.stopColors.push("#ffffff"),this.stopOpacities.push(0),this.stopWidths.push(1);return this.isEmpty&&(this.isEmpty=!1),this},e.prototype.Rect.prototype.Depot.prototype.emptyFragment=function(){for(this.mockSVG.appendChild(this.fragment);this.mockSVG.hasChildNodes();)this.nodes.push(this.mockSVG.removeChild(this.mockSVG.lastChild)),this.stopOffsets.pop(),this.stopColors.pop(),this.stopOpacities.pop(),this.stopWidths.pop();return!this.isEmpty&&(this.isEmpty=!0),this},e.prototype.Rect.prototype.Depot.prototype.transfer=function(){this.svg.appendChild(this.fragment),this.isEmpty=!0},e.prototype.Ease=function(t,e,i){this._resolution=i&&i.resolution||1e3,this._precision=i&&i.precision||1e-6,this._arr=[],this.registerEase(t,e);var n=this._arr,r=n.length,s=Math.max,o=Math.min;return function(t){return n[(r-2)*s(0,o(t,1))|0]}},e.prototype.Ease.prototype.returnParametric=function(t,e,i,n){return n?function(n){return 3*n*n*(1+3*e[t]-3*i[t])+6*n*(i[t]-2*e[t])+3*e[t]}:function(n){return 3*e[t]*(1-n)*(1-n)*n+3*i[t]*(1-n)*n*n+n*n*n}},e.prototype.Ease.prototype.registerEase=function(t,e){var i,n=this.returnParametric("x",t,e),r=this.returnParametric("x",t,e,!0),s=this.returnParametric("y",t,e),o=(this.returnParametric("y",t,e,!0),this._arr),a=this._resolution,h=1/a;a+=1;for(var c,p=0;p<=a;++p)c=s(i=this.getCloseXTo(h*p,n,r,i,this._precision)),o.push(c);return this},e.prototype.Ease.prototype.getCloseXTo=function(t,e,i,n,r){for(var s=1/r,o=-1*s,a=t,h=2*r;h/r|0;)if((a-=(h=e(a)-t)/i(a))>=s||a<=o)throw new RangeError("Target cannot be reached!");return a!=a&&(a=n),a},e.prototype.ease=new e.prototype.Ease({x:.75,y:0},{x:.25,y:1}),e.prototype.easeElastic=new e.prototype.Ease({x:1,y:-1},{x:0,y:2}),e.prototype.Paint=function(t){var e=this;this.parent=t,this.tasks=Object.defineProperties({},{_clearFrame:{configurable:!1,writable:!1,value:function(t,i){e.frames[t]&&window.cancelAnimationFrame(e.frames[t]),delete e.frames[t],i||Object.keys(e.frames).length||!e.active||this._resumeTask()}},_setTask:{configurable:!1,writable:!1,value:function(t,i){Object.keys(e.frames).length||(e.active=!1),e.tasks[t]=i,e.active||(e.active=!0,i[0]())}},_resumeTask:{configurable:!1,writable:!1,value:function(){var t=this._rndKey;t?e.tasks[t][0]():e.active=!1}},_rndKey:{configurable:!1,get:function(){var t=Object.keys(this).filter(function(t,e){return"_"!==t.slice(0,1)});return t[Math.random()*t.length|0]}},_destroyTasks:{configurable:!1,writable:!1,value:function(){for(var t,e=0,i=Object.keys(this),n=i.length;e<n;++e)"_"!==(t=i[e]).slice(0,1)&&delete this[t]}}}),this.frames={},this.active=!1,this.repaintScheduled=!1},e.prototype.Paint.prototype.schedulePaint=function(t,e){for(var i=t.length,n=[],r=0,s=0,o=0;r<i;++r,++s)(s%=this.nodeLimit)?n[o].push(t[r]):(n.push([t[r]]),o=n.length-1,r||(n[o]._firstTask=!0)),t[r]._i=r;e.tasks=n.map(function(t,i){return this.transformToTask(t,e)},this),this.tasks._setTask(e.rects.id,e.tasks)},e.prototype.Paint.prototype.ease=new e.prototype.Ease({x:.5,y:.1},{x:.75,y:.9}),e.prototype.Paint.prototype.nodeLimit=80,e.prototype.Paint.prototype.duration=150,e.prototype.Paint.prototype.cornerRadius=0,e.prototype.Paint.prototype.transformToTask=function(t,e){var i,n=this,r=n.parent,s=e.rects,o=t.length,a=function(u){u=(u-(i=i||u))/n.duration;var f=e.tasks,m=n.ease(u);t._firstTask&&(r.interpolateAndStoreArrInt(g,d,m),p.textContent=r.strConcat(g),l.transform="translate("+(p._transformX=y+(b-y)*m)+"px,0px)",u||h||(h=!0,s.depot.transfer(),c.toggleVisibility(!0)));for(var v=0,w=0,x=null;v<o;++v)w=(x=t[v])._i,x.parentNode&&s.setVal(x,"width",r.interpolateAndStoreAtEnd(s.stopWidths,w,e.uC,u,m)).setVal("x",r.interpolateAndStoreAtEnd(s.stopOffsets,w,e.stopOffsets[w],u,m)).setAttr("fill",u<1?e.stopColors[w](m):s.stopColors[w]=e.stopColors[w](m)).setAttr("fill-opacity",r.interpolateAndStoreAtEnd(s.stopOpacities,w,e.stopOpacities[w],u,m));if(u>=1)return f.shift(),void(f.length?f[0]():(delete n.tasks[s.id],delete n.frames[s.id],n.tasks._resumeTask()));n.frames[s.id]=window.requestAnimationFrame(a)};if(t._firstTask){for(var h=!1,c=e.target,p=c.textSlab,l=c.styleTextSlab,u=e.aR,f=u.end-u.start,d=c.seq.slice(u.start,u.end).split("").map(function(t,e){return t.charCodeAt(0)}),g=p._seqArr=p._seqArr||Array.apply(null,Array(f)).map(function(t,e){return"@".charCodeAt(0)}),m=g[g.length-1],v=e.svgWidthInPx,y=p._transformX,b=e.transformXOffset+e.stopOffsets[0]/e.svgWidthInUnits*v;g.length<f;)g.push(m);for(;g.length>f;)g.pop()}return function(){n.frames[s.id]=window.requestAnimationFrame(a)}},e.prototype.toggleLabels=function(t,e){window.cancelAnimationFrame(this.currentAnimationFrame.l),this.state="ANIM";var i,n,r,s=this,o=this.scrollLeftOffset,a="number"==typeof this.sequenceTextDivOpacity?this.sequenceTextDivOpacity:1,h=e&&e.duration||1500,c=e&&e.ease?new this.Ease(e.ease[0],e.ease[1],{resolution:e.easeResolution,precision:e.easePrecision}):this.easeElastic;return t?(n=this.fontWidth*this.maxAllowedLabelLength,r=1):(n=0,r=0),this.currentAnimationFrame.l=window.requestAnimationFrame(function t(e){var p=c(e=(e-(i=i||e))/h);s.scrollLeftOffset=o+(n-o)*p,s.divStyle.transform="translate("+s.scrollLeftOffset+"px,0px)";for(var l,u=s.sequences.length;~--u;)(l=s.sequences[u]).rm||(l.styleTextDiv.opacity=s.sequenceTextDivOpacity=a+(r-a)*e,!e&&r?l.styleTextDiv.visibility="visible":e>=1&&!r&&(l.styleTextDiv.visibility="hidden"));if(e>=1)return s.currentAnimationFrame.l=void 0,void++s.scrollLeft;s.currentAnimationFrame.l=window.requestAnimationFrame(t)}),this},e.prototype.removeSequences=function(t,e){var i=this,n={viewportWidth:this.viewportWidth};return t.forEach(function(t,e){delete t.painter.frames[t.rects.id]}),this.currentAnimationFrame.r=window.requestAnimationFrame(function r(s){e.startTime=e.startTime||s,s=e.ease((s-e.startTime)/(e.options&&e.options.duration||1500));for(var o=t.length;~--o;)t[o].update(s,n);i.currentAnimationFrame.r=s>=1?void 0:window.requestAnimationFrame(r)}),this},e.prototype.appendSequences=function(t,e){window.requestAnimationFrame(function i(n){e.startTime=e.startTime||n,n=e.ease((n-e.startTime)/(e.options&&e.options.duration||1500));for(var r,s=t.length;~--s;)(r=t[s].target).rm||(r.style.transform="translate("+t[s].viewportWidth*(n-1)+"px,0px)",r.style.opacity=n);n>=1||window.requestAnimationFrame(i)})},e.prototype.updateSequences=function(t,e){var i=this,n=t[0].source?"u":"a",r=this.fontWidth,s=this.viewportWidth;return t=t.map(function(t,e){var i=t.source||t;"u"===n&&(t.seq=i.seq,t.charWidth=i.charWidth||1,t.type=i.type,t.name=i.name,t.posOffset=i.posOffset||0);var o=(t.charWidth-1)*r,a=t.unitLength*this.fontRatio,h=t.unitLength*r,c=t.posOffset*r,p=t.style,l=t.styleTextDiv;return p.letterSpacing=o+"px",p.width=h+"px",t.styleSVG.width=h+"px",t.styleSVG.transform=c?"translate("+c+"px,0px)":"none",l.letterSpacing="normal",t.rects.setViewBox(t.svg,{width:a}),t.options={frameKey:n,viewportWidth:s,uC:t.charWidth*this.fontRatio,target:t,firstCall:!1,posOffsetTransform:c,transformXOffset:c+o/2,svgWidthInUnits:a,svgWidthInPx:h}},this),"a"===n&&this.appendSequences(t,{ease:e.ease,startTime:void 0,options:e.options}),this.repaint(!0),this.currentAnimationFrame[n]=window.requestAnimationFrame(function r(s){var o,a,h=t.length;for(e.startTime=e.startTime||s,s=(s-e.startTime)/(e.options&&e.options.duration||1500),a=e.ease(s);~--h&&(o=t[h]);)o.target.update(a,o,s);if(s>=1)for(i.currentAnimationFrame[n]=void 0,h=t.length;~--h&&(o=t[h]);)delete o.target.source;else i.currentAnimationFrame[n]=window.requestAnimationFrame(r)}),this},e.prototype.Style=function(t){return["body.lock-scroll {","\toverflow:hidden;","}",".LexiconMonoSeqContainer {","}","div.LexiconMonoSeq,svg.LexiconMonoSeq {","\tborder:0px;","\tmargin:0px;","\tpadding:0px;","\tbox-sizing:border-box;","}","div.LexiconMonoSeq.wrapper {","\twidth:100%;","\theight:100%;","\toverflow:auto;","\tfont-size:16px;","\t-webkit-overflow-scrolling:touch;","\tfont-family: Consolas","}","div.LexiconMonoSeq.wrapper::-webkit-scrollbar-track {","\t-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);","\tborder-radius: 0px;","\tbackground-color: #F5F5F5;","}","div.LexiconMonoSeq.wrapper::-webkit-scrollbar {","\twidth: 8px;","\theight: 8px;","\tbackground-color: #F5F5F5;","}","div.LexiconMonoSeq.wrapper::-webkit-scrollbar-thumb {","\tborder-radius: 0px;","\t-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);","\tbackground-color: #555;","}","div.LexiconMonoSeq.wrapper.drag {","\tcursor: move;","}","div.LexiconMonoSeq.main,div.LexiconMonoSeq.hidden {","\tfont-size:100%;","\twhite-space:pre;",t.textRendering?"\ttext-rendering:"+t.textRendering+";":"",t.fontKerning?"\tfont-kerning:"+t.fontKerning+";":"",t.webkitFontSmoothing?"\t-webkit-font-smoothing:"+t.webkitFontSmoothing+";":"","}","div.LexiconMonoSeq.sequence {","\tdisplay:table;","}","div.LexiconMonoSeq.textDiv {","\tbackground-color: rgba(0,0,0,0.8);","\tcolor: rgba(255,255,255,0.9);","\tdisplay: table;","\ttransform: translate(-100%,0%);","}","div.LexiconMonoSeq.textSlab {","\tposition:absolute;"," \ttop:0px;","\tleft:0px;","\tz-index:-1;","\theight:100%;","}","svg.LexiconMonoSeq {","\tdisplay:block;","\tposition:absolute;"," \ttop:0px;","\tleft:0px;","\theight:100%;","\tz-index:-2;","\toverflow:hidden;","}","div.LexiconMonoSeq.hidden {","\tposition:absolute;","\ttop:1px;","\tleft:1px;","\tvisibility:hidden;","}","div.LexiconMonoSeq.busy {","\tposition:absolute;","\tvisibility:hidden;","\tz-index:1;","\ttop:0px;","\tleft:0px;","\tfont-size:500%;","}","div.LexiconMonoSeq.wrapper.labelsOff > .main {","\ttransform: translate(0px,0px) !important;","}","div.LexiconMonoSeq.wrapper.labelsOff .textDiv {","\tvisibility: hidden !important;","}"].filter(function(t,e){return t})},e.prototype.Style.string=function(t){return this(t).join("\n")},e.prototype.Style.array=function(t){return this(t)},e.prototype.scrollToPos=function(t,e,i){window.cancelAnimationFrame(this.currentAnimationFrame.s);var n,r,s,o,a=this,h=i&&i.ease?new this.Ease(i.ease[0],i.ease[1],{resolution:i.easeResolution,precision:i.easePrecision}):this.ease,c=i&&i.duration||1500,p=this.scrollToPos.methods;a.state="ANIM",a.currentAnimationFrame.s=window.requestAnimationFrame(function(){a.currentAnimationFrame.s=window.requestAnimationFrame(function(){n=a.viewportWidth,r=a.viewportHeight,a.currentAnimationFrame.s=window.requestAnimationFrame(function(){s=a.getMaxTrackLength,o=a._trackHeight,a.currentAnimationFrame.s=window.requestAnimationFrame(p.moveTo(t,e,a,h,c,n,r,s,o))})})})},e.prototype.scrollToPos.methods={moveTo:function(t,e,i,n,r,s,o,a,h){var c,p=i.scrollLeft,l=Math.max(0,t/(a.sequenceLength*a.charWidth+a.posOffset)*(a.width+a.posOffsetTransform)-s/2)-p,u=i.wrapper.scrollTop,d=("number"!=typeof e?u:Math.max(0,e*h-o/2))-u;return f=function(t){var e=n(t=(t-(c=c||t))/r);i.scrollLeft=p+l*e,i.wrapper.scrollTop=u+d*e,i.currentAnimationFrame.s=t>=1?void 0:window.requestAnimationFrame(f)},f}},e.prototype.repaintOnScroll=function(){var t=this,e=function(i){e._busy||(t.currentAnimationFrame.sMan=window.requestAnimationFrame(function(){t.painters.every(function(t,e){return!t.repaintScheduled})&&t.repaint(),e._busy=!1,t.currentAnimationFrame.sMan=void 0}),e._busy=!0,t.state="ANIM",t.busyStyle.top=t.container.scrollTop+"px")};return e},e.prototype.repaint=function(t){if(!this.painters.some(function(t,e){return t.repaintScheduled})){this.painters.forEach(function(t,e){t.repaintScheduled=!0});this.watchman(this,function(t){var e,i,n,r;if("IDLE"===this.state?t.counter++:t.counter=0,1!==t.counter||t.framesCleared){if(23===t.counter)for(i=(e=this.sequences).length;~--i;)e[i].toggleVisibility(!1);else if(24===t.counter)for(i=(e=this.sequences).length;~--i;)!(n=e[i].rects.depot).isEmpty&&n.emptyFragment()}else{for(t.framesCleared=!0,i=(e=this.sequences).length;~--i;)(r=e[i]).painter.tasks._clearFrame(r.rects.id,!0);this.painters.forEach(function(t,e){t.tasks._destroyTasks()})}return t.counter>=25},function(e){for(var i=this.sequences,n=i.length;~--n;)i[n].rects.update(t);this.painters.forEach(function(t,e){t.repaintScheduled=!1})},{counter:0,framesCleared:!1})}},e.prototype.watchman=function(t,e,i,n){var r={value:void 0};return r.value=window.requestAnimationFrame(function s(){e.call(t,n)?i.call(t,n):r.value=window.requestAnimationFrame(s)}),r},t});
//# sourceMappingURL=/sm/119aab3dd3e048d9517cd1904766479e563d2f30d42279bb1f6b9034a4a59c64.map